(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{42:function(e,t,n){},44:function(e,t,n){},50:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(14),s=n.n(c),o=(n(42),n(7)),i=n(3),u=n.n(i),l=n(5),d=n(69),j=n(6),p=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get_token",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/check_current_login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/check_email_and_password",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/delete_login_token",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=(n(44),n(11)),O=n(1);var x=function(e){return Object(O.jsxs)("nav",{class:"navbar navbar-expand-lg  home-nav",children:[Object(O.jsx)("p",{className:"appname",children:"Leetcode Punch-in"}),Object(O.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("span",{class:"navbar-toggler-icon"})}),Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(O.jsx)("ul",{className:"home-nav-link",children:Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(m.b,{to:"/",children:Object(O.jsx)("button",{className:"homeLogOut",onClick:e.logoutFunction,children:"Log Out"})})})})})]})},v=(n(50),n(17)),g=n.n(v),y=n(35),w=n(36),N=n(33),S=n.n(N);var k=function(e){var t=e.isOpen,n=e.onClose,r=e.onEventAdded,c=Object(a.useState)(""),s=Object(o.a)(c,2),i=s[0],u=s[1],l=Object(a.useState)(new Date),d=Object(o.a)(l,2),j=d[0],p=d[1],b=Object(a.useState)(new Date),h=Object(o.a)(b,2),f=h[0];return h[1],Object(O.jsx)(g.a,{isOpen:t,onRequestClose:n,children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r({title:i,start:j,end:f}),n()},children:[Object(O.jsx)("input",{placeholder:"number",value:i,onChange:function(e){return u(e.target.value)}}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Completion date"}),Object(O.jsx)(S.a,{value:j,onChange:function(e){return p(e)}})]}),Object(O.jsx)("button",{children:"Add"})]})})},C=n(18),T=n.n(C);var _=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),i=Object(o.a)(s,2),d=i[0],j=i[1],p=Object(a.useRef)(null),b=function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("onEventAdded"),p.current.getApi().addEvent({start:T()(n.start).toDate(),end:T()(n.end).toDate(),title:n.title}),x(n),t.next=6,fetch("/get_data",{method:"GET"});case 6:return a=t.sent,t.next=9,a.json();case 9:t.sent,e.onChange(),f(n);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("current-user"),e.next=3,fetch("/update_rank",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function f(e){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(),t.next=3,fetch("/get_data",{method:"GET"});case 3:return a=t.sent,t.next=6,a.json();case 6:t.sent,e.onRankChange();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(e){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("current-user"),e.next=3,fetch("/create-event",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,date:t.start,title:t.title})});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(l.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("is it loaded"),t=localStorage.getItem("current-user"),e.next=4,fetch("/get-events",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,console.log(a),j(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)("section",{children:[Object(O.jsx)("button",{onClick:function(){return c(!0)},children:"Punch-in completed Question"}),Object(O.jsx)("div",{style:{position:"relative",zIndex:0},children:Object(O.jsx)(y.a,{ref:p,events:d,plugins:[w.a],initialView:"dayGridMonth",datesSet:function(e){return function(){return g.apply(this,arguments)}(e)}})}),Object(O.jsx)(k,{isOpen:r,onClose:function(){return c(!1)},onEventAdded:function(e){return b(e)}})]})};var I=function(){var e=Object(j.f)(),t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),i=Object(o.a)(s,2),p=i[0],h=i[1],m=Object(a.useState)(!1),v=Object(o.a)(m,2),g=v[0],y=v[1],w=Object(a.useState)(!1),N=Object(o.a)(w,2),S=N[0],k=N[1],C=Object(a.useState)(""),T=Object(o.a)(C,2),I=T[0],E=T[1],J=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get_data",{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n),y(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get_rank_data",{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,h(n),k(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get_data_query",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:I})});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,c(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){J(),L()}),[]),Object(a.useEffect)((function(){D()}),[]);var D=function(){var t=Object(l.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=localStorage.getItem("current-user"))){t.next=8;break}return t.next=4,b({email:n});case 4:!1===t.sent.result&&e.push("/signin"),t.next=9;break;case 8:e.push("/signin");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("current-user"),e.next=3,f({email:t});case 3:return e.next=5,localStorage.removeItem("current-user");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"searchpost-page-body",children:[Object(O.jsx)(x,{logoutFunction:P}),Object(O.jsx)("div",{className:"calendar",children:Object(O.jsx)(_,{post:r,onChange:J,onRankChange:L})}),Object(O.jsxs)(d.a,{className:"timeline",children:[Object(O.jsxs)("div",{className:"searchpost-filter-area",children:[Object(O.jsx)("input",{"aria-label":"search-field-zipcode",className:"searpost-input-qid",type:"number",placeholder:"Search By Question ID",onChange:function(e){E(e.target.value)}}),Object(O.jsx)("button",{className:"btn-search",onClick:A,children:"Seach"}),Object(O.jsx)("button",{className:"btn-reset",onClick:J,children:"Reset"})]}),Object(O.jsxs)("div",{className:"row",children:[g?Object(O.jsx)("div",{className:"grid col-sm",children:r.map((function(e){return Object(O.jsxs)("div",{children:[e.username," completed problem ",e.title," in ",e.date,"."]})}))}):Object(O.jsx)("h1",{children:"Loading"}),S?Object(O.jsx)("div",{className:"grid col-sm",children:p.map((function(e){return Object(O.jsxs)("div",{children:[e.username," completed ",e.qCount," in total!"]})}))}):Object(O.jsx)("h1",{children:"Loading"})]})]})]})},E=(n(23),n(63),n(15)),J=n(16),L=(n(64),n(19)),A=n.n(L);var D=function(){var e=Object(j.f)(),t=Object(a.useState)({email:"",password:"",name:""}),n=Object(o.a)(t,2),r=n[0],c=n[1],s=function(e){var t=e.target.value;c(Object(J.a)(Object(J.a)({},r),{},Object(E.a)({},e.target.name,t.toLowerCase())))},i=function(){var t=Object(l.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/if_user_exist",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email.toLowerCase()})});case 2:return n=t.sent,t.next=5,n.json();case 5:if(!1!==t.sent.result){t.next=14;break}return d(),t.next=10,p({email:r.email.toLowerCase()});case 10:localStorage.setItem("current-user",r.email),e.push("/home"),t.next=15;break;case 14:A()("You already have an account, please sign in",{button:!1});case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/insert_user",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"SignUp",children:Object(O.jsx)("div",{className:"container-fluid d-flex justify-content-center",children:Object(O.jsxs)("div",{className:"signcard-signup",children:[Object(O.jsx)("div",{className:"card-header",children:Object(O.jsx)("h3",{children:"Sign Up"})}),Object(O.jsx)("div",{className:"card-body",children:Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{for:"name",children:"Username"}),Object(O.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",placeholder:" ",onChange:s})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{for:"email",children:"Email"}),Object(O.jsx)("input",{type:"text",id:"email",name:"email",className:"form-control",placeholder:" ",onChange:s})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{for:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"",onChange:s})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{className:"btn btn-dark btn-sm",style:{marginTop:"10px",width:"100px",padding:"8px"},value:"Sign Up",onClick:i})}),Object(O.jsxs)("div",{className:"form-group",children:["Already an user?"," ",Object(O.jsx)(m.b,{className:"card-footerText",to:"/signin",children:"Sign In"}),Object(O.jsx)("br",{})]})]})})]})})})})};n(67);var P=function(){var e=Object(j.f)(),t=Object(a.useState)({email:"",password:""}),n=Object(o.a)(t,2),r=n[0],c=n[1],s=function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(r);case 2:!0===t.sent.result?(localStorage.setItem("current-user",r.email),e.push("/home")):A()("You login doesn't work, please try again",{button:!1});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(e){var t=e.target.value;c(Object(J.a)(Object(J.a)({},r),{},Object(E.a)({},e.target.name,t.toLowerCase())))};return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"SignIn",children:Object(O.jsx)("div",{className:"container-fluid d-flex justify-content-center",children:Object(O.jsxs)("div",{className:"signcard",children:[Object(O.jsx)("div",{className:"card-header",children:Object(O.jsx)("h3",{children:"Sign In"})}),Object(O.jsx)("div",{className:"card-body",children:Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{for:"inputEmail",children:"Email"}),Object(O.jsx)("input",{type:"text",id:"email",className:"form-control",placeholder:" ",name:"email",onChange:i})]}),Object(O.jsxs)("div",{className:"form group",children:[Object(O.jsx)("label",{for:"inputPassword",children:"Password"}),Object(O.jsx)("input",{type:"password",id:"password",className:"form-control",placeholder:" ",name:"password",onChange:i})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{className:"btn btn-dark",style:{marginTop:"10px",width:"100px",padding:"8px"},value:"Sign In",onClick:s})})]})}),Object(O.jsx)("div",{className:"card-footer",children:Object(O.jsx)("div",{children:Object(O.jsx)(m.b,{className:"card-footerText",to:"/signUp",children:"Sign up here"})})})]})})})})};var U=function(){Object(j.f)();var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=(t[0],t[1]);return Object(a.useEffect)((function(){var e=localStorage.getItem("current-user");e&&n(e)}),[]),new Promise((function(e,t){})),Object(O.jsx)(m.a,{children:Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{path:"/signUp",component:D}),Object(O.jsx)(j.a,{path:"/signin",component:P}),Object(O.jsx)(j.a,{path:"/home",component:I}),Object(O.jsx)(j.a,{path:"/",component:P})]})})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(U,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.09198670.chunk.js.map